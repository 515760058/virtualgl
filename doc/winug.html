<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  <title>VirtualGL User's Guide (Windows)</title>


  <style type="text/css">
body {
background-color: rgb(255, 255, 255);
font-family: Arial,Helvetica,sans-serif;
}
a {
text-decoration: none;
}
dt {
font-weight: bold;
margin-left: 25px;
margin-top: 20px;
}
.valid {
border-width: 0px;
}
pre {
border: 1px solid rgb(0, 0, 255);
padding: 4px;
font-family: courier,monospace;
font-size: 14px;
background-color: rgb(238, 238, 255);
margin-left: 25px;
margin-right: 25px;
}
tr {
background-color: rgb(238, 238, 255);
color: rgb(32, 32, 32);
text-align: left;
}
th {
background-color: rgb(0, 0, 0);
color: rgb(255, 255, 255);
text-align: left;
}
td {
vertical-align: top;
text-align: left;
}
.colorheader {
padding: 2px;
background-color: rgb(0, 0, 0);
color: rgb(255, 255, 255);
margin-left: 3px;
margin-right: 3px;
}
.newwin {
border-width: 0px;
}
.tip {
border: 1px solid rgb(0, 0, 0);
padding: 1px 5px;
font-weight: bold;
background-color: rgb(255, 255, 0);
margin-right: 10px;
}
.note {
border: 1px solid rgb(0, 0, 0);
padding: 2px;
font-weight: bold;
background-color: blue;
color: rgb(255, 255, 255);
}
.monospace {
font-family: monospace
}
hr {
margin-bottom: 7px;
}
h2 {
padding: 5px;
color: rgb(255, 255, 255);
background-color: rgb(25, 25, 112);
}
h3 {
padding: 2px;
background-color: rgb(0, 0, 0);
color: rgb(255, 255, 255);
margin-left: 3px;
margin-right: 3px;
}
.top {
text-align: right;
}
  </style></head>
<body>
<h1>VirtualGL
0.9.3 User's Guide
(Windows)</h1>

<h2>Contents</h2>

<ul>

<li><a href="#legalinfo">Legal Information</a></li>
<li><a href="#requirements">System Requirements</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#basicusage">Basic Usage</a></li>
<li><a href="#secureusage">Secure Usage</a></li>
</ul>

<hr style="width: 100%; height: 2px;"><a name="legalinfo"></a><br>

<h2>Legal Information</h2>

This
product includes software developed
by the OpenSSL Project for use in the OpenSSL Toolkit (<a href="http://www.openssl.org/">http://www.openssl.org/</a>.)&nbsp;
Further information is contained in <a href="LICENSE-OpenSSL.txt"><span class="monospace">LICENSE-OpenSSL.txt</span></a>,
which can be found
in the same directory as this documentation.<br>

<br>

<span class="monospace">hclshm.dll</span>
and <span class="monospace">xlib.dll</span>
are freely redistributable components of the <a href="http://www.hummingbird.com">Hummingbird</a>
Exceed XDK v9.0 and
are included under the terms of that license and with the express
consent of Hummingbird, Ltd.<br>

<br>

All
other components of VirtualGL fall under the scope of the <a href="LICENSE.txt">wxWindows Library License, v3</a>,
a derivative of
the <a href="LGPL.txt">LGPL</a>.<br>

<br>

<div style="text-align: right;"><a href="#" target="_top">top</a>
</div>

<hr><a name="requirements"></a>
<h2>System Requirements</h2>

<ul>

<li>Single Pentium III or
Pentium 4, 1.0 GHz or faster (recommended)</li>
<li>Graphics card with decent 2D
performance</li>
<li>Windows 2000 or XP with <a href="http://www.hummingbird.com">Hummingbird</a>
Exceed 8.0 or 9.0<br>
<br>
<span class="note">Note:</span>&nbsp;
Contact Gary Romualdez of
Hummingbird Ltd. [tel. (416) 496-6393 or
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#103;&#97;&#114;&#121;&#46;&#114;&#111;&#109;&#117;&#97;&#108;&#100;&#101;&#122;&#64;&#104;&#117;&#109;&#109;&#105;&#110;&#103;&#98;&#105;&#114;&#100;&#46;&#99;&#111;&#109;">&#103;&#97;&#114;&#121;&#46;&#114;&#111;&#109;&#117;&#97;&#108;&#100;&#101;&#122;&#64;&#104;&#117;&#109;&#109;&#105;&#110;&#103;&#98;&#105;&#114;&#100;&#46;&#99;&#111;&#109;</a>]
for Exceed pricing information.<br>
<br>
</li>
<li>Client desktop currently
needs to be true color (24 or 32-bit)</li>
</ul>

<div class="top"><a href="#" target="_top">top</a></div>

<hr>
<a name="installation"></a>
<h2>Installation</h2>

<ol>

<li>Download the latest
VirtualGL installer package from the files
area of <a href="http://sourceforge.net/projects/virtualgl">http://sourceforge.net/projects/virtualgl</a>.
The installer will usually be named <span class="monospace">VirtualGL-{version}.exe</span>.<br>
</li>
<li>Run the VirtualGL installer.&nbsp;
The installation of VirtualGL should be
self-explanatory.&nbsp; The only configuration option is the
directory in
which you want the files to be installed. </li>
<li>Install Hummingbird Exceed
8.0 or 9.0 if it isn't already
installed. </li>
<li>Exceed must be updated to
one of the following revisions in order
to work properly with VirtualGL:<br>
<br>
<table cellpadding="3">
<tbody>
<tr>
<th>Product</th>
<th><span class="monospace">exceed.exe</span>
Version</th>
<th>How to Obtain</th>
</tr>
<tr>
<td>Hummingbird Exceed
8.0</td>
<td>8.0.0.28 or higher</td>
<td>Download from:<br>
<a href="http://connectivity.hummingbird.com/support/nc/exceed_patches.html">http://connectivity.hummingbird.com/support/nc/exceed_patches.html</a><br>
<br>
<span class="note">Note:</span>&nbsp;
Hummingbird WebSupport
account required </td>
</tr>
<tr>
<td>Hummingbird Exceed
9.0</td>
<td>9.0.0.9 or higher</td>
<td>Run Hummingbird
Update</td>
</tr>
</tbody>
</table>
<br>
</li>
<li>Add the Exceed path (usually
<span class="monospace">C:\Program
Files\Hummingbird\Connectivity\8.00\Exceed</span>
or <span class="monospace">C:\Program
Files\Hummingbird\Connectivity\9.00\Exceed</span>)
to your system <span class="monospace">PATH</span>
environment if it
isn't already there. </li>
<li>Load Exceed XConfig
(right-click
on the Exceed taskbar icon, then select "Tools--&gt;Configuration.")</li>
<li>Open the "X Server Protocol"
applet in XConfig.<br>
<br>
<span class="note">Note:</span>&nbsp; If you are using the "Classic View" mode of XConfig, open the "Protocol" applet instead.<br>
&nbsp; </li>
<li>In the "X Server Protocol"
applet, select the "Protocol" tab and make sure that "Use 32 bits per
pixel
for true color" is <i>not</i>
checked.<br>
<br>
<img alt="" src="winug/exceed1.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li>Select the "Extensions" tab
and make sure that "MIT-SHM" is checked.<br>
<br>
<img alt="" src="winug/exceed2.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li>Click "Validate and Apply
Changes."&nbsp; If XConfig asks whether you want to perform a
server reset, click
"Yes." </li>
<li>Open the "Other Server
Settings" applet in XConfig.<br>
<br>
<span class="note">Note:</span>&nbsp; If you are using the "Classic View" mode of XConfig, open the "Performance" applet instead.<br>
&nbsp;<br>
</li>
<li>Select the "Performance" tab
and make sure that "Default Backing
Store" is set to "None."<br>
<br>
<img alt="" src="winug/exceed3.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li>Click "Validate and Apply
Changes."&nbsp; If XConfig asks whether you want to perform a
server reset, click
"Yes." </li>
</ol>

<h3>Secure Shell</h3>

It is recommended that you use SSh (Secure Shell) to log in to the
application server and launch applications.&nbsp; Some servers are
configured to allow
telnet and RSh access, but telnet and RSh both send passwords
unencrypted over the network and are thus being phased out by
SSh.&nbsp; If you already have <a href="http://www.cygwin.com">CygWin</a>
installed on your
Windows machine, then you can use the SSh client included in that
package.&nbsp; Otherwise, download and install <a href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/">PuTTY</a>.<br>

<h3><a name="installsvc"></a>Installing the Windows Client
as a Service</h3>

<p>The standard and SSL versions
of the VirtualGL Windows Client can be installed as NT services (and
subsequently removed) using the links provided in the "VirtualGL
Client" start menu group.&nbsp; Once installed, the services can be
started from the Services control panel applet or from the command line
by issuing</p>

<pre>net start rrxclient</pre>

<p style="margin-left: 40px;">or</p>

<pre>net start rrxclient_ssl</pre>

<p>The services can be
subsequently stopped by issuing</p>

<pre>net stop rrxclient</pre>

<p style="margin-left: 40px;">or</p>

<pre>net stop rrxclient_ssl</pre>

<p>If you wish to install the
client as a service and have it
listen on a port other than the default (4242 for the standard client
or 4243 for the SSL client), you will need to install the service
manually from the command line.</p>

<pre>rrxclient -?</pre>

<p> gives a list of the relevant
command-line options.</p>

<p style="text-align: right;"><a href="#" target="_top">top</a></p>

<hr><a name="basicusage"></a>
<h2>Basic Usage</h2>

<ol>

<li>If you have not installed
the VirtualGL client as a service, then you will need to start the
client manually.&nbsp; To do this, use the link provided in the
VirtualGL Client start menu group.</li>
<li>Make sure that Exceed is
running.</li>
<li>If you have never made X11
connections between your client machine and the application server
before, you will need to grant the application server permission to use
your X display.
<ol style="list-style-type: lower-alpha;">
<li>Launch Exceed XConfig
(right-click on the Exceed taskbar icon, then select
"Tools--&gt;Configuration.")</li>
<li>Open the "Security,
Access Control, and System Administration" applet in XConfig.</li>
<li>To have Exceed prompt
you each time a host tries to connect, set "Host Access Control List"
to "Enabled."<br>
<br>
<img alt="" src="winug/exceed4.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li>To allow only the hosts
you specify to connect, set "Host Access Control List" to "File" and
click "Edit" to edit the file and add entries to it.&nbsp; You
should add the name or IP address of the application server to this
file, save the file, then exit the editor.<br>
<br>
<img alt="" src="winug/exceed5.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li type="a">Click
"Validate and Apply Changes."&nbsp; If XConfig asks whether you
want to perform a server reset, click
"Yes."</li>
</ol>
<p> <span class="note">Note:</span>&nbsp;
You need only perform Step 3 once, not every time you launch the
client. </p>
</li>
<li>Open a Secure Shell (SSh)
connection to the application server:
<br>
<span style="font-weight: bold;"><br>
CygWin users:</span><br>
Open a new command prompt and type:<br>
<pre>ssh -l {your_user_name} {server_machine_name_or_IP}</pre>
<span style="font-weight: bold;">PuTTY users:&nbsp;</span></li>
<ol style="list-style-type: lower-alpha;">
<li>Launch PuTTY.</li>
<li>Select the "Session"
category.</li>
<li>Set the "Protocol"
to "SSH," then enter the host name or IP address of the application
server.
<br>
<br>
<img alt="" src="winug/putty1.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li>Click "Open"<br>
<br>
</li>

</ol>
<li>In the remote shell session,
set the <span class="monospace">DISPLAY</span>
environment variable on
the server to point back to the
client machine:<br>
<pre>export DISPLAY={client_machine_name_or_IP}:0.0<br></pre>
or<br>
<pre>setenv DISPLAY {client_machine_name_or_IP}:0.0<br></pre>
<br>
</li>
<li>In the SSh session, launch
your 3D application:
<pre>rrlaunch {application_executable_or_script} {arguments}</pre>
</li>
</ol>

<div style="text-align: right;"><a href="#" target="_top">top</a></div>

<ol>

</ol>

<hr style="width: 100%; height: 2px;"><a name="secureusage"></a><br>

<h2>Secure
Usage</h2>

<h3>SSL Tunneling of the Video
Stream</h3>

<p>VirtualGL has built-in
support for encrypting its image stream inside a
Secure Socket Layer (SSL.)&nbsp; For performance reasons, this
feature is not
enabled by default, but it can be easily enabled:</p>

<p style="font-weight: bold;">Client:</p>

<ul>

<li>When starting the client,
use the "Start VirtualGL Secure Client" link provided in the "VirtualGL
Client" start menu group<br>
</li>
<li>... or ... Start the secure
client from the command line by issuing<br>
<pre>rrxclient -s</pre>
</li>
<li>... or ... Install the
secure client as a service using instructions in the <a href="#installsvc">previous section</a>.<br>
</li>
</ul>

<span style="font-weight: bold;">Server:</span><br style="font-weight: bold;">

Set the environment variable <span style="font-family: monospace;">RRUSESSL</span>
to <span style="font-family: monospace;">1</span>
prior to launching the application.<br>

<h3>SSh Tunneling of the X11
Protocol Stream</h3>

Secure
Shell (SSh) has built-in support
for tunneling the X11 protocol stream
through the SSh connection.&nbsp; Tunneling the X11 protocol stream
has
several
advantages:<br>

<ul>

<li>No one can snoop your X11
connection.</li>
<li>You don't have to explicitly
grant the remote host permission to
use your X display.</li>
<li>You can take advantage of
SSh's compression features (for
low-bandwidth connections.)</li>
</ul>

<p>The main disadvantage is
performance.&nbsp; On a LAN, tunneling the
X11
protocol stream through SSh will probably slow things down, but on a
lower-bandwidth connection, it may
actually speed things up, especially if you enable compression.</p>

<h4>Enabling X11 Tunneling With
CygWin</h4>

<ol>

<li>Prior to opening the SSh
connection
into the application server, set the <span class="monospace">DISPLAY</span>
environment on the client machine to point to whichever display Exceed
is parking on:<br>
<br>
Example:<br>
<pre>set DISPLAY=localhost:0.0</pre>
The
"localhost" part is important.&nbsp;
If you don't anticipate needing to launch multiple Exceed sessions, you
can set this environment variable globally (Control
Panel--&gt;System--&gt;Advanced.)</li>
<li>Pass a <span class="monospace">-X</span>
argument to ssh when
connecting to the server.&nbsp; Example:<br>
<pre>ssh -X -l {your_user_name} {server_machine_name_or_IP}</pre>
</li>
<li>If your connection to the
server is low-bandwidth, you may additionally wish
to pass a <span class="monospace">-C</span>
argument to ssh when
establishing the connection.&nbsp; This will enable SSh protocol
compression and may speed things up.<br>
<br>
<span class="note">Note:</span>&nbsp;
Don't use protocol compression when
connecting over a LAN or other high-speed network.</li>
</ol>

<h4>Enabling X11 Tunneling With
PuTTY</h4>

<ol>

<li>Launch PuTTY.</li>
<li>Select the
Connection--&gt;SSH--&gt;Tunnels category.</li>
<li>Check "Enable X11 forwarding"
and
set the "X display location" to
<span class="monospace">localhost:0.0</span> or
whichever
display Exceed is parking on.</li>
<li>If your connection to the
server is
low-bandwidth, you may wish to enable SSh protocol compression when
establishing the connection.&nbsp; To do this, select the
Connection--&gt;SSH category in PuTTY and check "Enable
compression."<br>
    <br>

    <span class="note">Note:</span>&nbsp;
Don't use protocol compression when
connecting over a LAN or other high-speed network.</li>
</ol>
<h4>Launching the Application</h4>

After opening an SSh connection into the application server, don't set
the <span class="monospace">DISPLAY</span>
environment.&nbsp; Instead,
set the environment variable <span class="monospace">RRCLIENT</span>
to the client display.<br>

<br>

Example:<br>

<pre>export RRCLIENT={my_client_machine}:0.0<br></pre>

Then <span class="monospace">rrlaunch</span>
the application as you
would normally.<br>

<h3>A More Complex Scenario</h3>

<p>So what if your only path into
the network is through SSh, perhaps
through a single "gateway" machine.&nbsp; No problem, because SSh
allows you to tunnel both incoming and outgoing TCP/IP connections on
any port from one machine to another.&nbsp; Tunneling the
motion-JPEG
stream through SSh will not be as fast as using the built-in SSL
capabilities of VirtualGL, but sometimes it's the only option available.</p>

<p>Let's assume the following
configuration:</p>

<p><img alt="" src="winug/sshtunnel.png?rev=HEAD&cvsroot=virtualgl"><br>
</p>

<p>What we want to do is tunnel
both the
X11 protocol stream and VirtualGL's motion-JPEG stream through
SSh.&nbsp;
Here's one way to do it:</p>

<ol>

<li>Start the VirtualGL client
(the standard version, not the secure version)</li>
<li>Start Exceed</li>
<li>
<pre>set DISPLAY=localhost:0.0<br></pre>
(or whatever display number Exceed is parking on.)</li>
<li>
<pre>ssh -X -R 4242:localhost:4242 username@ssh_gateway_machine</pre>
<span class="note">Note:</span>&nbsp;
This tells SSh to tunnel all
X11 traffic from your session on <span class="monospace">ssh_gateway_machine</span>
to your client's display, and additionally it will tunnel all outbound
traffic to port 4242 on <span class="monospace">ssh_gateway_machine</span>
to inbound port 4242 on your client machine.<br>
<br>
<span class="note">Note:</span>&nbsp;
This command line also works
with PuTTY.&nbsp; Just replace "ssh" with the path to the PuTTY
executable.&nbsp; You can also configure the same thing through the
PuTTY GUI as follows:<br>
<br>
<img alt="" src="winug/putty2.png?rev=HEAD&cvsroot=virtualgl"><br>
<br>
</li>
<li>Now you should have a
terminal session open into <span class="monospace">ssh_gateway_machine</span>.&nbsp;
Inside this
session, issue the following command:<br>
<pre>ssh -X -R 4242:localhost:4242 username@app_server_machine</pre>
<br>
<span class="note">Note:</span>&nbsp;
This tells SSh to tunnel all
X11 traffic from your session on <span class="monospace">app_server_machine</span>
to your session on <span class="monospace">ssh_gateway_machine</span>,
where it will be re-tunneled to the client display.&nbsp;
Additionally,
all outbound traffic to port 4242 on <span class="monospace">app_server_machine</span>
will be tunneled to port 4242 on <span class="monospace">ssh_gateway_machine</span>,
which will then re-tunnel the traffic to inbound port 4242 on your
client machine.<br>
<br>
</li>
<li>You should now have a
terminal session open into <span class="monospace">app_server_machine</span>.&nbsp;
Inside that
session, set the environment variable <span class="monospace">RRCLIENT</span>
to <span class="monospace">localhost:0.0</span>.<br>
<br>
<span class="note">Note:</span>&nbsp;
Replace 0.0 with whatever
display number Exceed is occupying on your client machine.<br>
<br>
</li>
<li><span class="monospace">rrlaunch</span>
your application.</li>
</ol>

<p>You can of course replace port
4242 in all of the steps above with
whatever port you choose, but make sure that if you change the port,
you configure both the client and server to talk on the port you choose
(using the
<span class="monospace">-p</span>
argument to <span class="monospace">rrxclient</span>
as well as the <span class="monospace">RRPORT</span>
environment
variable on the server.)</p>

<p><span class="note">Note:</span>&nbsp;
This same procedure would also
work if you needed to connect directly to app_server_machine and tunnel
everything over SSh.&nbsp; In that case, simply leave out Step 4.<br>
&nbsp;</p>

<p><span class="note">Note:</span>&nbsp;
You might also want to try
enabling SSh compression for the first stage of the trip, from your
client to the SSh gateway.&nbsp; This could improve performance if
the
WAN connection is low-bandwidth.</p>

<div style="text-align: right;"><a href="#" target="_top">top</a><br>
<div style="text-align: left;">
<hr style="width: 100%; height: 2px;"></div>
</div>

</body></html>