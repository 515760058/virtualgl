<style>
<!--
h1           { font-family: Arial; font-size: 24pt; font-weight: bold }
h2           { font-family: Arial; text-decoration: underline; font-size: 18pt; font-style: 
               italic }
h3           { font-family: Arial; font-size: 14pt }
-->
</style>
<h1>How to build VirtualGL in 9043 easy steps</h1>
<hr>
<h2><span style="font-weight: 400">Prerequisites - All Platforms</span></h2>
<h3><span style="font-weight: 400">OpenSSL headers and link libraries</span></h3>
<ul>
  <li>
  <h4><span style="font-weight: 400">On most Linux variants, these can be found in the openssl-devel 
  package included with the distribution.&nbsp; If your Linux distribution does 
  not contain a pre-packaged version of OpenSSL,
   you will need to build and install the toolkit from source.&nbsp; The source code
   can be obtained from <a href="http://www.openssl.org/">http://www.openssl.org/</a>.</span></h4>
  </li>
  <li>
  Windows users should download the latest Win32 OpenSSL installer from
  <a href="http://www.slproweb.com/products/Win32OpenSSL.html">
  http://www.slproweb.com/products/Win32OpenSSL.html</a>.&nbsp; Install it into
  <span style="font-style: italic;">c:\openssl</span>.<br>
  <br>
  <span style="font-style: italic; font-weight: bold;">NOTE:</span>&nbsp; This is 
  only necessary on the build machine.&nbsp; The VirtualGL build system will copy the 
  necessary DLL's into the VirtualGL release package.</li>
</ul>
<h3><span style="font-weight: 400">Intel Integrated 
Performance Primitives (IPP) <i><font color="#0000FF">[recommended]</font></i></span></h3>
<ul>
  <li>
  <h4><span style="font-weight: 400">VirtualGL includes a completely free version of libjpeg v6b which will
   produce correct, albeit slow, behavior.&nbsp; In order to get optimal
   performance out of VirtualGL, however, it is necessary to build VirtualGL 
  against the Intel 
  Performance Primitives, which are capable of compressing JPEG images 3-4x 
  faster than libjpeg.</span></h4>
  </li>
  <li>
  <h4><span style="font-weight: 400">Single developer licenses for IPP can be obtained
   directly from Intel (<a href="http://www.intel.com/software/products/ipp/index.htm">http://www.intel.com/software/products/ipp/index.htm</a>.)&nbsp; Binaries built by an authorized licensee of this technology can be 
   distributed royalty-free.</span></h4>
  </li>
  <li>On Windows, make sure that the IPP include and lib paths are added to your 
  system INCLUDE and LIB variables.</li>
</ul>
<hr>
<h2><span style="font-weight: 400">Prerequisites - Linux</span></h2>
<h3><span style="font-weight: 400">GCC and G++ (tested with v2.96 and v3.2)</span></h3>
<h3><span style="font-weight: 400">X11 dev. kit</span></h3>
<ul>
  <li>On most Linux variants, this can be found in the XFree86-devel or 
  xorg-x11-devel package</li>
</ul>
<h3><span style="font-weight: 400">GNU Make v3.7 or later</span></h3>
<hr>
<h2><span style="font-weight: 400">Prerequisites - x86-64 Linux</span></h2>
<p>Not all x86-64 Linux systems contain the necessary 32-bit packages to build 
and run VirtualGL.&nbsp; To build VirtualGL on an x86-64 Linux system, you will 
need at minimum the following 32-bit packages:</p>
<ul>
  <li>glibc development libraries<ul>
    <li>Usually contained in the glibc-devel package (iX86)</li>
    <li>Usually installed by default on x86-64 Linux systems</li>
  </ul>
  </li>
  <li>X11 dev. kit<ul>
    <li>Usually contained in the XFree86-devel or xorg-x11-devel package (iX86)</li>
    <li>Not always installed by default but usually contained on the CD</li>
    <li>Earlier RedHat/Whitebox Enterprise 3 releases do not contain the 32-bit 
    version of the package on the CD, but you can grab it from a 32-bit CD, from 
    the RedHat Network, or from the Whitebox web-site.</li>
  </ul>
  </li>
  <li>OpenSSL runtime<ul>
    <li>Usually contained in the openssl package (iX86)</li>
    <li>Not always installed by default but usually contained on the CD</li>
    <li>May also require 32-bit krb5-libs package</li>
    <li>Earlier RedHat/Whitebox Enterprise 3 releases do not contain the 32-bit 
    version of the package on the CD, but you can grab it from a 32-bit CD, from 
    the RedHat Network, or from the Whitebox web-site.</li>
  </ul>
  </li>
</ul>
<p>Prior to building 32-bit VirtualGL for the first time, you will need to 
perform the following additional step:</p>
<blockquote>
<p><font face="Courier New">cd /usr/lib<br>
ln -fs /lib/libssl.so.? libssl.so</font></p>
</blockquote>
<p>This creates a development stub for the 32-bit OpenSSL library, since a 
32-bit openssl-devel package doesn't exist.</p>
<hr>
<h2><span style="font-weight: 400">Prerequisites - Win32</span></h2>
<h3><span style="font-weight: 400">Visual C++ 6.0 or later or Visual C++ Toolkit 2003</span></h3>
<ul>
  <li><span style="font-weight: 400">If you don't own Visual C++, download the free Visual C++ Toolkit from
   <a href="http://msdn.microsoft.com/visualc/vctoolkit2003/">http://msdn.microsoft.com/visualc/vctoolkit2003/</a>.&nbsp; You will also need the Core Platform SDK (<a href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/">http://www.microsoft.com/msdownload/platformsdk/sdkupdate/</a>.)&nbsp; 
  You may optionally want to install the free Debugging Tools for Windows (<a href="http://www.microsoft.com/whdc/devtools/debugging/default.mspx">http://www.microsoft.com/whdc/devtools/debugging/default.mspx</a>.)</span></li>
</ul>
<h3><span style="font-weight: 400">Hummingbird Exceed XDK v8.0 or later</span></h3>
<ul>
  <li>This can be purchased directly from Hummingbird (<a href="http://www.hummingbird.com">http://www.hummingbird.com</a>.)</li>
  <li>Add the XDK include and lib paths to your system INCLUDE and LIB variables 
  prior to building VirtualGL</li>
  <li>See install notes on the VirtualGL web-site regarding patching Exceed to 
  eliminate a bug in the MIT-SHM extension</li>
</ul>
<h3><span style="font-weight: 400">MSYS or Cygwin</span></h3>
<ul>
  <li>VirtualGL's make system is written to take advantage of GNU-specific make 
  semantics and relies upon several 
  Unix-ish shell commands</li>
  <li>MSYS can be downloaded from <a href="http://www.mingw.org/download.shtml">
  http://www.mingw.org/download.shtml</a>.</li>
  <li>Cygwin can be downloaded from <a href="http://www.cygwin.com/">
  http://www.cygwin.com/</a>.</li>
</ul>
<h3><span style="font-weight: 400">PThreads for Win32</span></h3>
<ul>
  <li>This release of VirtualGL requires the open source PThreads-Win32 package.&nbsp; 
  The 9-18-2003 binary is included in the repository for convenience, as this 
  version has been thoroughly tested and found to be stable with VirtualGL.&nbsp; This 
  binary can also be downloaded from here:
  <a href="http://sources.redhat.com/pthreads-win32/">
  http://sources.redhat.com/pthreads-win32/</a>, along with its associated 
  source code.</li>
</ul>
<hr>
<h2><span style="font-weight: 400">Building</span></h2>
<p>Assuming all of the above is set up correctly, you should be able to just 
type &quot;make&quot;.</p>
<hr>
<h2><span style="font-weight: 400">Makefile Options</span></h2>
<p><span style="font-weight: 400">Each of these options can be passed as an argument to "make".</span></p>
<h3><span style="font-weight: 400">DEBUG = yes</span></h3>
<blockquote>
<p>Build a version of VirtualGL with debugging symbols and no optimization.&nbsp; 
The debug version will reside in ${platform}/dbg/lib and ${platform}/dbg/bin, whereas 
the release version will reside in ${platform}/lib and ${platform}/bin, so these 
two versions can be built independently of one another.</p>
</blockquote>
<h3><span style="font-weight: 400">JPEGLIB = &lt; libjpeg | pegasus &gt;<libjpeg|pegasus></libjpeg|pegasus></span></h3>
<blockquote>
  <p><span style="font-weight: 400">libjpeg = Build VirtualGL using a custom version of libjpeg v6b.&nbsp;
               This custom libjpeg code is included in the <i>jpeg/jpeg-6b</i>
               directory and differs from the IJG release (see
               <a href="http://www.ijg.org">http://www.ijg.org</a>) only in its support of 
  little endian 
  and 32-bit pixel formats (both of which are necessary to allow for 
  decompressing directly into X11 shared memory.)</span></p>
  <p><span style="font-weight: 400">pegasus = Use the PICTools RapidVue codec from Pegasus Imaging
               (<a href="http://www.jpg.com">http://www.jpg.com</a>.)&nbsp; The VirtualGL build environment looks for
               PICTools in a directory called "pictools" located one level up
               from the build directory.&nbsp; You can override this by passing
               an additional argument of PEGDIR={location of pictools directory}.</span></p>
</blockquote>
<h3><span style="font-weight: 400">IPPDIR = {location of Intel Performance Primitives 
directory}</span></h3>
<blockquote>
  <p><span style="font-weight: 400">On Linux builds, this allows you to override 
  the default location of /opt/intel/ipp41, for instance to use an earlier or 
  later version of IPP.</span></p>
</blockquote>
<h3><span style="font-weight: 400">M32 = yes</span></h3>
<blockquote>
  <p><span style="font-weight: 400">On x86_64 systems, this cross-compiles a 32-bit 
  (x86) version of VirtualGL.&nbsp; The default on x86_64 systems is to build a 
  64-bit &quot;supplemental&quot; package which contains only the 64-bit faker library.&nbsp; 
  The 32-bit x86 client can be used by both x86_64 and x86 systems, so it is 
  only necessary to build the server-side faker using 64-bit code (so that it 
  can be inserted into 64-bit apps.)</span></p>
</blockquote>
<hr>
<h2><span style="font-weight: 400">Installing / Distributing</span></h2>
<p>On Linux, you can type</p>
<h3><span style="font-weight: 400">make install [prefix={install prefix}]</span></h3>
<p>&quot;prefix&quot; defaults to <i>/usr/local</i> but can be changed to 
something else (e.g. <i>/usr</i>) if 
you prefer.&nbsp; Executables will be installed to $prefix/bin, and libraries 
will be installed to $prefix/lib.</p>
<p>To build a redistributable package, type</p>
<h3><span style="font-weight: 400">make dist</span></h3>
<ul>
  <li>On Linux, this requires RPM v4 or later</li>
  <li>On Windows, this requires the Nullsoft Install System (<a href="http://nsis.sourceforge.net/">http://nsis.sourceforge.net/</a>.)&nbsp; 
  makensis.exe should be in your path.</li>
</ul>